{"version":3,"file":"static/js/869.7b0babfd.chunk.js","mappings":"sQAKe,SAASA,IAAkB,IAAD,EACvC,GAA0BC,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KAEQC,GAAOC,EAAAA,EAAAA,MAAPD,GACFE,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,GAAO,UAAAF,EAASV,aAAT,eAAgBY,OAAQ,UAGrCC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,mCAAG,oGAEVX,GAAW,GACXE,EAAS,MAHC,UAIWU,EAAAA,EAAAA,IAAYT,GAJvB,OAIJU,EAJI,OAKVf,EAASe,GALC,gDAOVX,EAAS,EAAD,IAPE,yBASVF,GAAW,GATD,4EAAH,qDAYfW,GACD,GAAE,CAACR,IAEJ,IAIMW,EADiBP,EAASQ,SAASC,SAAS,YACf,iBAAab,GAAb,iBAA8BA,EAA9B,aAEnC,OACE,iBAAKc,UAAU,YAAf,WACI,mBAAQC,QARC,kBAAMb,EAASI,EAAf,EAQT,sBACA,mBAAQS,QARE,kBAAMb,EAAS,SAAf,EAQV,yBACCN,IAAW,SAAC,IAAD,IACXE,IAAS,gDACTJ,IACG,iCACI,eAAIoB,UAAU,aAAd,SAA4BpB,EAAMsB,SAClC,uBAAItB,EAAMuB,QACV,SAAC,KAAD,CAAMvB,MAAO,CAACY,KAAAA,GAAOY,GAAIP,EAAzB,uBACA,SAAC,KAAD,SAKf,C,0KCpDKQ,E,MAAWC,GAAAA,OAAa,CAC1BC,QAAS,6CACTC,OAAQ,CACJC,OAAQ,MAIHC,EAAQ,mCAAG,2GAAMC,EAAN,+BAAc,EAAd,SACCN,EAASO,IAAI,IAAK,CACnCJ,OAAQ,CACJG,MAAAA,KAHY,uBACbE,EADa,EACbA,KADa,kBAMbA,GANa,2CAAH,qDASRlB,EAAW,mCAAG,WAAMT,GAAN,yFACAmB,EAASO,IAAT,WAAiB1B,IADjB,uBACf2B,EADe,EACfA,KADe,kBAEhBA,GAFgB,2CAAH,sDAKXC,EAAW,mCAAG,WAAMC,GAAN,8FAASJ,EAAT,+BAAiB,EAAjB,SACFN,EAASO,IAAI,IAAK,CACnCJ,OAAQ,CACJG,MAAAA,EACAI,EAAAA,KAJe,uBAChBF,EADgB,EAChBA,KADgB,kBAOhBA,GAPgB,2CAAH,sDAUXG,EAAe,mCAAG,WAAO9B,GAAP,yFACJmB,EAASO,IAAT,WAAiB1B,EAAjB,cADI,uBACnB2B,EADmB,EACnBA,KADmB,kBAEpBA,GAFoB,2CAAH,qD,mEChC5B,EAA2B,yBAA3B,EAA6D,uB,SCE9C,SAASI,IACtB,OACE,gBAAKjB,UAAWkB,EAAhB,UACI,gBAAKlB,UAAWkB,KAGvB,C","sources":["pages/SinglePostPage/SinglePostPage.jsx","shared/api/posts.js","webpack://react-router-1/./src/shared/components/Loader/loader.module.scss?acdf","shared/components/Loader/Loader.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate, Outlet, Link, useLocation } from \"react-router-dom\";\r\nimport { getPostById } from \"../../shared/api/posts\";\r\nimport Loader from \"../../shared/components/Loader/Loader\";\r\n\r\nexport default function SinglePostPage() {\r\n  const [state, setState] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const from = location.state?.from || \"/posts\";\r\n\r\n\r\n  useEffect(() => {\r\n    const fetchPost = async () => {\r\n        try {\r\n            setLoading(true);\r\n            setError(null);\r\n            const result = await getPostById(id);\r\n            setState(result);\r\n        } catch(e) {\r\n            setError(e);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }\r\n    fetchPost();\r\n  }, [id])\r\n\r\n  const goBack = () => navigate(from);\r\n  const goPosts = () => navigate(\"/posts\");\r\n\r\n  const isCommentsPage = location.pathname.includes(\"comments\");\r\n  const commentsLink = isCommentsPage ? `/posts/${id}` : `/posts/${id}/comments`;\r\n\r\n  return (\r\n    <div className=\"container\">\r\n        <button onClick={goBack}>Go back</button>\r\n        <button onClick={goPosts}>Go to posts</button>\r\n        {loading && <Loader />}\r\n        {error && <p>Something went wrong</p>}\r\n        {state && (\r\n            <>\r\n                <h1 className=\"page-title\">{state.title}</h1>\r\n                <p>{state.body}</p>\r\n                <Link state={{from}} to={commentsLink}>Comments</Link>\r\n                <Outlet />\r\n            </>\r\n        )}\r\n    </div>\r\n  )\r\n}\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: \"https://jsonplaceholder.typicode.com/posts\",\r\n    params: {\r\n        _limit: 12,\r\n    }\r\n});\r\n\r\nexport const getPosts = async(_page = 1) => {\r\n    const {data} = await instance.get(\"/\", {\r\n        params: {\r\n            _page,\r\n        }\r\n    });\r\n    return data;\r\n}\r\n\r\nexport const getPostById = async(id) => {\r\n    const { data } = await instance.get(`/${id}`);\r\n    return data;\r\n}\r\n\r\nexport const searchPosts = async(q, _page = 1) => {\r\n    const {data} = await instance.get(\"/\", {\r\n        params: {\r\n            _page,\r\n            q,\r\n        }\r\n    });\r\n    return data;\r\n}\r\n\r\nexport const getCommentsById = async (id) => {\r\n    const { data } = await instance.get(`/${id}/comments`);\r\n    return data;\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"backdrop\":\"loader_backdrop__zL2fo\",\"loader\":\"loader_loader__5w6fT\"};","import React from 'react'\r\nimport styles from './loader.module.scss';\r\n\r\nexport default function Loader() {\r\n  return (\r\n    <div className={styles.backdrop}>\r\n        <div className={styles.loader}></div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":["SinglePostPage","useState","state","setState","loading","setLoading","error","setError","id","useParams","navigate","useNavigate","location","useLocation","from","useEffect","fetchPost","getPostById","result","commentsLink","pathname","includes","className","onClick","title","body","to","instance","axios","baseURL","params","_limit","getPosts","_page","get","data","searchPosts","q","getCommentsById","Loader","styles"],"sourceRoot":""}