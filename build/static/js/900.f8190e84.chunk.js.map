{"version":3,"file":"static/js/900.f8190e84.chunk.js","mappings":"gRA4DA,EAtDc,WACV,OAA0BA,EAAAA,EAAAA,UAAS,CAC/BC,MAAO,GACPC,SAAS,EACTC,MAAO,OAHX,eAAOC,EAAP,KAAcC,EAAd,KAKA,GAAwBL,EAAAA,EAAAA,UAAS,GAAjC,eAAOM,EAAP,KAAaC,EAAb,MAEAC,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAU,mCAAG,oGAEXJ,GAAS,SAAAK,GAAS,yBACXA,GADW,IAEdR,SAAS,GAFK,IAFP,UAMQS,EAAAA,EAAAA,IAASL,GANjB,OAMLM,EANK,OAOXP,GAAS,SAAAK,GAAS,yBACXA,GADW,IAEdT,MAAM,GAAD,eAAMS,EAAUT,QAAhB,OAA0BW,KAFjB,IAPP,gDAYXP,GAAS,SAAAK,GAAS,yBACXA,GADW,IAEdP,MAAK,MAFS,IAZP,yBAkBXE,GAAS,SAAAK,GAAS,yBACXA,GADW,IAEdR,SAAS,GAFK,IAlBP,4EAAH,qDAyBhBO,GACH,GAAE,CAACJ,EAAUC,IAEd,IAIOL,EAAyBG,EAAzBH,MAAOC,EAAkBE,EAAlBF,QAASC,EAASC,EAATD,MAEvB,OACI,4BACI,sGACCU,QAAQZ,EAAMa,UAAW,SAACC,EAAA,EAAD,CAAUd,MAAOA,IAC1CC,IAAW,SAACc,EAAA,EAAD,IACXb,IAAS,2CACTU,QAAQZ,EAAMa,UAAW,mBAAQG,QAZzB,WACbV,GAAQ,SAAAW,GAAQ,OAAIA,EAAW,CAAf,GACnB,EAUiC,yBAGrC,ECxDc,SAASC,EAASC,GAC/B,OACE,iCACI,wCACA,SAAC,EAAD,MAGP,C,0KCPKC,E,MAAWC,GAAAA,OAAa,CAC1BC,QAAS,6CACTC,OAAQ,CACJC,OAAQ,MAIHd,EAAQ,mCAAG,2GAAMe,EAAN,+BAAc,EAAd,SACCL,EAASM,IAAI,IAAK,CACnCH,OAAQ,CACJE,MAAAA,KAHY,uBACbd,EADa,EACbA,KADa,kBAMbA,GANa,2CAAH,qDASRgB,EAAW,mCAAG,WAAMC,GAAN,yFACAR,EAASM,IAAT,WAAiBE,IADjB,uBACfjB,EADe,EACfA,KADe,kBAEhBA,GAFgB,2CAAH,sDAKXkB,EAAW,mCAAG,WAAMC,GAAN,8FAASL,EAAT,+BAAiB,EAAjB,SACFL,EAASM,IAAI,IAAK,CACnCH,OAAQ,CACJE,MAAAA,EACAK,EAAAA,KAJe,uBAChBnB,EADgB,EAChBA,KADgB,kBAOhBA,GAPgB,2CAAH,sDAUXoB,EAAe,mCAAG,WAAOH,GAAP,yFACJR,EAASM,IAAT,WAAiBE,EAAjB,cADI,uBACnBjB,EADmB,EACnBA,KADmB,kBAEpBA,GAFoB,2CAAH,qD,mEChC5B,EAA2B,yBAA3B,EAA6D,uB,SCE9C,SAASI,IACtB,OACE,gBAAKiB,UAAWC,EAAhB,UACI,gBAAKD,UAAWC,KAGvB,C,uDCRD,MAAuB,wBAAvB,EAAsD,wB,6BCEhDnB,EAAW,SAAC,GAAa,IAAZd,EAAW,EAAXA,MACTkC,GAAWC,EAAAA,EAAAA,MACjBC,QAAQC,IAAI,uBAAwBH,GACpC,IAAMI,EAAWtC,EAAMuC,KAAI,gBAAGX,EAAH,EAAGA,GAAIY,EAAP,EAAOA,MAAP,OAAoB,eAAaR,UAAWC,EAAxB,UACvC,SAAC,KAAD,CAAMQ,MAAO,CAACC,KAAMR,GAAWS,GAAE,iBAAYf,GAA7C,SAAoDY,KADJZ,EAA7B,IAI3B,OAAO,eAAII,UAAWC,EAAf,SAA6BK,GACvC,EAED,IAEAxB,EAAS8B,aAAe,CACpB5C,MAAO,G","sources":["components/Posts/Posts.jsx","pages/HomePage/HomePage.jsx","shared/api/posts.js","webpack://react-router-1/./src/shared/components/Loader/loader.module.scss?acdf","shared/components/Loader/Loader.jsx","webpack://react-router-1/./src/shared/components/PostList/post-list.module.scss?60f6","shared/components/PostList/PostList.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport PostList from \"../../shared/components/PostList/PostList\";\r\n\r\nimport { getPosts } from './../../shared/api/posts';\r\nimport Loader from \"../../shared/components/Loader/Loader\";\r\n\r\nconst Posts = () => {\r\n    const [posts, setPosts] = useState({\r\n        items: [],\r\n        loading: false,\r\n        error: null,\r\n    });\r\n    const [page, setPage] = useState(1);\r\n\r\n    useEffect(()=> {\r\n        const fetchPosts = async() => {\r\n            try {\r\n                setPosts(prevPosts => ({\r\n                    ...prevPosts,\r\n                    loading: true,\r\n                }));\r\n                const data = await getPosts(page);\r\n                setPosts(prevPosts => ({\r\n                    ...prevPosts,\r\n                    items: [...prevPosts.items, ...data],\r\n                }))\r\n            } catch (error) {\r\n                setPosts(prevPosts => ({\r\n                    ...prevPosts,\r\n                    error,\r\n                }))\r\n            }\r\n            finally {\r\n                setPosts(prevPosts => ({\r\n                    ...prevPosts,\r\n                    loading: false,\r\n                }))\r\n            }\r\n        };\r\n\r\n        fetchPosts()\r\n    }, [setPosts, page]);\r\n\r\n    const loadMore = () => {\r\n        setPage(prevPage => prevPage + 1)\r\n    }\r\n\r\n    const {items, loading, error} = posts;\r\n\r\n    return (\r\n        <div>\r\n            <h2>Список постів</h2>\r\n            {Boolean(items.length) && <PostList items={items} />}\r\n            {loading && <Loader />}\r\n            {error && <p>Posts load fail</p>}\r\n            {Boolean(items.length) && <button onClick={loadMore}>Load more</button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Posts;\r\n","import Posts from \"../../components/Posts/Posts\";\r\n\r\nexport default function HomePage(props) {\r\n  return (\r\n    <>\r\n        <div>Home Page</div>\r\n        <Posts />\r\n    </>\r\n  )\r\n}\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: \"https://jsonplaceholder.typicode.com/posts\",\r\n    params: {\r\n        _limit: 12,\r\n    }\r\n});\r\n\r\nexport const getPosts = async(_page = 1) => {\r\n    const {data} = await instance.get(\"/\", {\r\n        params: {\r\n            _page,\r\n        }\r\n    });\r\n    return data;\r\n}\r\n\r\nexport const getPostById = async(id) => {\r\n    const { data } = await instance.get(`/${id}`);\r\n    return data;\r\n}\r\n\r\nexport const searchPosts = async(q, _page = 1) => {\r\n    const {data} = await instance.get(\"/\", {\r\n        params: {\r\n            _page,\r\n            q,\r\n        }\r\n    });\r\n    return data;\r\n}\r\n\r\nexport const getCommentsById = async (id) => {\r\n    const { data } = await instance.get(`/${id}/comments`);\r\n    return data;\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"backdrop\":\"loader_backdrop__zL2fo\",\"loader\":\"loader_loader__5w6fT\"};","import React from 'react'\r\nimport styles from './loader.module.scss';\r\n\r\nexport default function Loader() {\r\n  return (\r\n    <div className={styles.backdrop}>\r\n        <div className={styles.loader}></div>\r\n    </div>\r\n  )\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"post-list_list__FC7u5\",\"item\":\"post-list_item__Gfl6p\"};","import styles from \"./post-list.module.scss\";\r\nimport { Link, useLocation } from \"react-router-dom\"\r\n\r\nconst PostList = ({items}) => {\r\n    const location = useLocation();\r\n    console.log('location in postlist', location);\r\n    const elements = items.map(({ id, title }) => (<li key={id} className={styles.item}>\r\n            <Link state={{from: location}} to={`/posts/${id}`}>{title}</Link>\r\n        </li>));\r\n\r\n    return <ul className={styles.list}>{elements}</ul>\r\n}\r\n\r\nexport default PostList;\r\n\r\nPostList.defaultProps = {\r\n    items: []\r\n}"],"names":["useState","items","loading","error","posts","setPosts","page","setPage","useEffect","fetchPosts","prevPosts","getPosts","data","Boolean","length","PostList","Loader","onClick","prevPage","HomePage","props","instance","axios","baseURL","params","_limit","_page","get","getPostById","id","searchPosts","q","getCommentsById","className","styles","location","useLocation","console","log","elements","map","title","state","from","to","defaultProps"],"sourceRoot":""}