"use strict";(self.webpackChunkreact_router_1=self.webpackChunkreact_router_1||[]).push([[387],{1387:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var r=n(1413),a=n(2791),o=n(5984),i=n(4942),u=n(885),l=function(e){var t=e.initialState,n=e.onSubmit,o=(0,a.useState)((0,r.Z)({},t)),l=(0,u.Z)(o,2),c=l[0],s=l[1];return{state:c,setState:s,handleChange:function(e){var t=e.target,n=t.value,a=t.name,o=t.type,u=t.checked,l="checkbox"===o?u:n;s((function(e){return(0,r.Z)((0,r.Z)({},e),{},(0,i.Z)({},a,l))}))},handleSubmit:function(e){e.preventDefault(),n((0,r.Z)({},c)),s((0,r.Z)({},t))}}},c=n(4595),s={title:{label:"\u041d\u0430\u0437\u0432\u0430 \u043a\u043d\u0438\u0433\u0438",name:"title",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u043a\u043d\u0438\u0433\u0438",required:!0},author:{label:"\u0410\u0432\u0442\u043e\u0440 \u043a\u043d\u0438\u0433\u0438",name:"author",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0430\u0432\u0442\u043e\u0440\u0430 \u043a\u043d\u0438\u0433\u0438",required:!0},favorite:{label:"\u0423\u043b\u044e\u0431\u043b\u0435\u043d\u0430",name:"favorite",type:"checkbox"}},d="form-add-book_btn__q5Gnw",f=n(184),h={title:"",author:"",favoriteId:!1};function v(e){var t=e.onSubmit,n=l({initialState:h,onSubmit:t}),i=n.state,u=n.handleChange,v=n.handleSubmit,m=(0,a.useMemo)((function(){return(0,o.x0)()}),[]),x=(0,a.useMemo)((function(){return(0,o.x0)()}),[]),_=(0,a.useMemo)((function(){return(0,o.x0)()}),[]),p=i.title,b=i.author,j=i.favorite;return(0,f.jsxs)("form",{onSubmit:v,children:[(0,f.jsx)(c.Z,(0,r.Z)({id:m,value:p,handleChange:u},s.title)),(0,f.jsx)(c.Z,(0,r.Z)({id:x,value:b,handleChange:u},s.author)),(0,f.jsx)(c.Z,(0,r.Z)({id:_,checked:j,handleChange:u},s.favorite)),i.invalidForm?(0,f.jsx)("div",{children:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430 \u0437\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043f\u043e\u043b\u044f"}):null,(0,f.jsx)("button",{className:d,children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u043d\u0438\u0433\u0443"})]})}var m="book-list_title__U4196",x="book-list_item__eQTpv",_="book-list_remove__3zb+7",p=function(e){var t=e.items,n=e.removeBook,r=null===t||void 0===t?void 0:t.map((function(e){var t=e.id,r=e.title,a=e.author;return(0,f.jsxs)("li",{className:x,children:[r,". \u0410\u0432\u0442\u043e\u0440: ",a,(0,f.jsx)("span",{onClick:function(){return n(t)},className:_,children:"X"})]},t)}));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h4",{className:m,children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043d\u0438\u0433"}),(0,f.jsx)("ol",{children:r})]})},b=p;p.defaultProps={items:[]};var j="books_container__cCLJo",k="books_title__yUgK5",y="books_row__MQKB9",g="books_column__NZgbU",Z="books_filter__R7PWD",C=n(9434),N=n(7508),S=n(45);function w(){var e=(0,C.v9)(N.yZ),t=(0,C.v9)(N.zK),n=(0,C.I0)(),a=function(t){var n=t.title,r=t.author;return e.find((function(e){return e.title===n&&e.author===r}))},i=function(){if(!t)return e;var n=t.toLocaleLowerCase();return e.filter((function(e){var t=e.title,r=e.author,a=t.toLocaleLowerCase(),o=r.toLocaleLowerCase();return a.includes(n)||o.includes(n)}))}();return(0,f.jsxs)("div",{className:j,children:[(0,f.jsx)("h2",{className:k,children:"\u041c\u043e\u0457 \u043a\u043d\u0438\u0433\u0438"}),(0,f.jsxs)("div",{className:y,children:[(0,f.jsx)("div",{className:g,children:(0,f.jsx)(v,{onSubmit:function(e){if(a(e))return alert("".concat(e.title," - ").concat(e.author," is already on the site"));var t,i=(t=e,{type:S.eY,payload:(0,r.Z)({id:(0,o.x0)()},t)});n(i)}})}),(0,f.jsxs)("div",{className:g,children:[(0,f.jsx)("input",{type:"text",name:"filter",onChange:function(e){var t,r=e.target.value;n((t=r,{type:S.YA,payload:t}))},value:t,className:Z,placeholder:"\u0424\u0456\u043b\u044c\u0442\u0440"}),(0,f.jsx)(b,{items:i,removeBook:function(e){var t,r=(t=e,{type:S.P,payload:t});n(r)}})]})]})]})}function L(){return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(w,{})})}},7508:function(e,t,n){n.d(t,{$O:function(){return a},yZ:function(){return r},zK:function(){return o}});var r=function(e){return e.books},a=function(e){return e.books.filter((function(e){return e.favorite}))},o=function(e){return e.filter}},4595:function(e,t,n){n.d(t,{Z:function(){return u}});var r="text-field_formGroup__wQAcd",a="text-field_field__gzYPx",o=n(184),i=function(e){var t=e.id,n=e.label,i=e.value,u=e.name,l=e.handleChange,c=e.type,s=e.checked,d=e.className,f=e.placeholder,h=e.required,v=e.pattern,m=d?"".concat(a," ").concat(d):a;return(0,o.jsxs)("div",{className:r,children:[n&&(0,o.jsx)("label",{htmlFor:t,children:n}),(0,o.jsx)("input",{id:t,value:i,checked:s,name:u,onChange:l,type:c,className:m,placeholder:f,required:h,pattern:v})]})},u=i;i.defaultProps={type:"text",required:!1}},5984:function(e,t,n){n.d(t,{x0:function(){return r}});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"}),"")}}}]);
//# sourceMappingURL=387.c88a39fb.chunk.js.map